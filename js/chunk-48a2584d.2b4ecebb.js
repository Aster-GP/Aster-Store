(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48a2584d"],{"8b98":function(t,a,e){},"9a0b":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"menu"},[e("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{input:t.search},model:{value:t.valueName,callback:function(a){t.valueName=a},expression:"valueName"}}),e("van-tabs",{attrs:{type:"card"},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},t._l(t.shopTypeList,(function(a,s){return e("van-tab",{key:s,attrs:{title:a.title}},t._l(t.currentData,(function(a,s){return e("div",{key:s,staticClass:"shop-item-info",on:{click:function(e){return t.goDetail(a.pid)}}},[e("div",{staticClass:"adjust-box"},[e("div",{staticClass:"shop-item-img"},[e("img",{staticClass:"auto-img",attrs:{src:a.smallImg,alt:""}})]),e("div",{staticClass:"shop-item-desc"},[e("div",{staticClass:"shop-name"},[t._v(t._s(a.name))]),e("div",{staticClass:"shop-name-box"},[e("div",{staticClass:"ename"},[t._v(t._s(a.enname))]),e("div",{staticClass:"price"},[t._v("￥"+t._s(a.price))])])])])])})),0)})),1)],1)},i=[],n=(e("d81d"),e("8b98"),{name:"Menu",data:function(){return{active:0,shopTypeList:[{title:"推荐"},{title:"拿铁"},{title:"咖啡"},{title:"瑞纳冰"}],currentData:[],valueName:""}},created:function(){this.getType()},watch:{active:function(t){this.currentIndex=t,this.getTypeProducts(t)}},methods:{getType:function(){var t=this;localStorage.getItem("token");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/type",params:{appkey:this.appkey}}).then((function(a){if(t.$toast.clear(),400==a.data.code){var e=a.data.result;e.unshift({typeDesc:"推荐",type:"isHot"}),t.shopTypeList.map((function(t){for(var a=0;a<e.length;a++)if(t.title==e[a].typeDesc){t.type=e[a].type;break}}))}t.getTypeProducts(0)}))},getTypeProducts:function(t){var a=this;this.currentData=[];var e="";0==t?(this.shopTypeList[t].type=1,e="isHot"):e="type";var s=localStorage.getItem("token");s||this.$toast("请登录"),this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/typeProducts",params:{appkey:this.appkey,key:e,value:this.shopTypeList[t].type}}).then((function(t){a.$toast.clear(),t.data.result.map((function(t){a.currentData.push(t)}))}))},goDetail:function(t){this.$router.push({name:"Detail",params:{pid:t}})},search:function(t){var a=this;if(""!=t){this.currentData=[];var e=localStorage.getItem("token");if(!e)return this.$toast("请登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/search",params:{appkey:this.appkey,name:t}}).then((function(t){a.$toast.clear(),"Q001"==t.data.code&&(""==t.data.result&&a.$toast("没有该商品哦！"),t.data.result.map((function(t){a.currentData.push(t)})))}))}}}}),o=n,r=e("2877"),c=Object(r["a"])(o,s,i,!1,null,null,null);a["default"]=c.exports},d81d:function(t,a,e){"use strict";var s=e("23e7"),i=e("b727").map,n=e("1dde"),o=e("ae40"),r=n("map"),c=o("map");s({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-48a2584d.2b4ecebb.js.map